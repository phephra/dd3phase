<html>

<head>
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.4.0/dist/leaflet.css" integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA==" crossorigin="" />
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
</head>

<body>
    <div id="loading-mask"></div>

    <a id="hamburger-icon" title="Menu">
        <span class="line line-1"></span>
        <span class="line line-2"></span>
        <span class="line line-3"></span>
    </a>
    <div id="nav" class="menuSidenav">
        <div class="menu-links white center">
            <a href="index.html">Home</a>
            <a href="#">About</a>
            <a href="https://densitydesign.github.io/teaching-dd14/es02/group07/" target="_blank">View the research</a>
        </div>
    </div>

    <div id="landing">
        <div id="landing-text">
            <p class="landing-title">The Great Amazonian Barrage</p>
            <p class="landing-subtitle">A new age of hydroelectric dams has risen in the Amazon: a mere license prevents Belo Monte, its greatest dam, from operating. Those who live in its shadow are still longing for justice. Is a nationâ€™s energetic prosperity worth the toll? It is up to you to decide in this interactive journey in the Xingu River Basin.</p>
        </div>
    </div>

    <div id="world-map-text">
        <p class="intro-text white"><span class="bold">Hydroelectric power</span> is the new frontier for many emerging economies. Dams offer clean renewable energy, but their negative consequences cannot be ignored. The mega dam building policy, while being a significant part of the effort to reduce carbon emissions, is in fact deeply affecting the natural and social ecosystem in which they are built.</p>
    </div>

    <div id="brazil_map">
    </div>

    <div id="river_map">
    </div>

    <div id="brazil-map-text" class="text-container white">
        <p class="title-text">News from the Amazon</p>
        <p class="body-text">Brazil has been heavily investing in constructing hydroelectric plants in the Amazon, to sustain its emerging economy. The Amazon Rainforest represents over half of the planet's remaining rainforests. Yet, its enormous biodiversity is being constantly stricken by the exploitation of natural resources for energy production. Plants, animals and local indigenous residents are the ones paying the price.
        </p>
    </div>

    <div id="belomonte_intro">
        <p class="intro-text white"><span class="bold">Belo Monte</span>, the most controversial Amazonian dam to date, has become the symbol of popular opposition movements highlighting the impacts of these projects and challenging their asserted sustainability. Situated on the Xingu River, the dam has been inaugurated in 2016. <span class="bold">Norte Energia</span>, the company running the facility, is undergoing a trial that could mine the operativity of the plant.
        </p>
    </div>

    <div id="xingu_map">
        <div class="overlay">
            <div class="sfondo_overlay">
            </div>
            <div class="contenuto_overlay white">
                <div class="turorial-level-1 center">
                    <p class="title-text">Time for the inspection</p>
                    <p class="tutorial-text">Belo Monte is still not working at full potential, and its fate is decided by the granting of an <span class="bold">Operational License</span>. With this map you will be able to inspect how Norte Energia tried to solve the problems caused by the dam, comparing the company's statements with other sources. After the inspection, you will be asked to decide wether to grant or to deny the license.</p>
                </div>
                <div class="tutorial-level-2 center">
                    <div class="t-a">
                        <div class="container-icone">
                            <img class="icone_tutorial" src="/assets/icons/icona_altamira.png">
                            <img class="icone_tutorial" src="/assets/icons/icona_indios.png">
                            <img class="icone_tutorial" src="/assets/icons/icona_ambiente.png">
                            <img class="icone_tutorial" src="/assets/icons/icona_diga.png">
                        </div>
                        <div class="testino-tutorial">
                            <p class="base_text">The elements on the map represent the issues created by the dam. Click on them to proceed with the inspection.</p>
                        </div>
                    </div>
                    <div class="t-b">
                        <div class="container-icone">
                            <img id="screen_tutorial" src="/assets/Icons/norte-tutorial.svg">
                        </div>
                        <div class="testino-tutorial">
                            <p class="base_text">Compare the official statements by Norte Energia with the other sources.</p>
                        </div>
                    </div>
                    <div class="t-c">
                        <div class="container-icone">
                            <button type="button">Proceed to decision</button>
                        </div>
                        <div class="testino-tutorial">
                            <p class="base_text">When you made up your mind, click on this button to take a decision.</p>
                        </div>
                    </div>
                </div>
                <div class="center">
                    <button type="button" class="btn-1" id="gotIt" onclick="viaOverlay1()">Got it</button>
                </div>
            </div>
        </div>
        <div class="overlay hidden">
            <div class="sfondo_overlay"></div>
            <div class="contenuto_overlay_2 center white">
                <p class="title-text" id="title_overlay2"></p>
                <p class="tutorial-text" id="text_overlay2"></p>
                <button type="button" onclick="scenario1(), dicoSi()" class="btn-1">Yes</button>
                <button type="button" onclick="scenario2(), dicoNo()" class="btn-1">No</button>
                <button type="button" onclick="areYouSure('torna')" class="btn-3">Go back to the map</button>
                <button type="button" onclick="areYouSure('avanti')" class="btn-3">Yes, proceed</button>
            </div>
        </div>
        <div id="mapid"></div>
        <div id="map-title" class="center">
            <p id="location-name" class="white">Xingu River Valley</p>
            <p id="topic-name" class="white"></p>
        </div>
        <span class="left" onclick="indietro()"></span>
        <span class="right" onclick="avanti()"></span>
        <div id="map-legenda"></div>
        <button id="hai_finito" type="button" class="btn-1" onclick="contaLetture()">Proceed to decision</button>
        <div id="mySidenav" class="sidenav">
            <div id="norte-statement-container" class="center">
                <a href="javascript:void(0)" id="closebtn" onclick="closeNav(), resetMappa()">&times;</a>
                <div class="statement center">
                    <img class="actor-icon" src="">
                    <p class="actor-name white"></p>
                    <p class="actor-type"></p>
                    <p class="statement-text white"></p>
                </div>
            </div>
            <div id="other-statement-container">
                <div class="statement center">
                    <img class="actor-icon" src="">
                    <p class="actor-name"></p>
                    <p class="actor-type"></p>
                    <p class="statement-text"></p>
                </div>
            </div>
        </div>
    </div>

</body>
<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.3.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.6/ScrollMagic.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.6/plugins/debug.addIndicators.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.0.2/TweenMax.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.5/plugins/animation.gsap.min.js"></script>
<script src="https://unpkg.com/leaflet@1.4.0/dist/leaflet.js" integrity="sha512-QVftwZFqvtRNi0ZyCtsznlKSWOStnDORoefr1enyq5mVL4tmKB3S/EnC3rRJcxCPavG10IcrVGSmPh6Qw5lwrg==" crossorigin=""></script>
<script type="text/javascript" src="scripts/script.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.8.2/firebase.js"></script>

<script>
        // Initialize Firebase
        var config = {
            apiKey: "AIzaSyASg3O8h1ZDVUWVLL-A-eGb0Az7i0gJBb8",
            authDomain: "rispostebelomonte.firebaseapp.com",
            databaseURL: "https://rispostebelomonte.firebaseio.com",
            projectId: "rispostebelomonte",
            storageBucket: "rispostebelomonte.appspot.com",
            messagingSenderId: "499750476328"
        };
        var fb = firebase.initializeApp(config);
        var db = firebase.firestore();

        function dicoNo() {
            var numeroNo; 
            db.collection("containerRisposte").get().then((snapshot) => {
                snapshot.docs.forEach(doc => {
                    numeroNo = doc.data().no;
                    numeroNo += 1;
                    db.collection("containerRisposte").doc("risposte").update({
                        no: numeroNo
                    });
                })
            });
            
        };
        function dicoSi() {
            var numeroSi; 
            db.collection("containerRisposte").get().then((snapshot) => {
                snapshot.docs.forEach(doc => {
                    numeroSi = doc.data().yes;
                    numeroSi += 1;
                    db.collection("containerRisposte").doc("risposte").update({
                        yes: numeroSi
                    });
                })
            });
            
        };
    </script>
</html>
